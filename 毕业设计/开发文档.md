# Xnote 开发文档

## 数据库配置

### 华为云

```md
url：121.36.215.20
账号：root
密码：@wxa2001426
```

## 数据表的设计

### users

| 列名        | 类型    | 是否为主键 | 是否为外键 | 是否为空 | 是否自增 | 描述          |
| ----------- | ------- | ---------- | ---------- | -------- | -------- | ------------- |
| id          | uuid    | 是         | 否         | 否       | 否       | uers表的主键  |
| username    | string  | 否         | 否         | 否       | 否       | 用户名        |
| password    | string  | 否         | 否         | 否       | 否       | 密码          |
| isAdmin     | boolean | 否         | 否         | 是       | 否       | 是否为管理员  |
| token       | string  | 否         | 否         | 是       | 否       | 登录口令di    |
| description | text    | 否         | 否         | 是       | 否       | 个性签名      |
| avatarUrl   | string  | 否         | 否         | 是       | 否       | 头像 url 地址 |
|             |         |            |            |          |          |               |

### resources

| 列名    | 类型    | 是否为主键 | 是否为外键 | 是否为空 | 是否自增 | 描述                 |
| ------- | ------- | ---------- | ---------- | -------- | -------- | -------------------- |
| id      | uuid    | 是         | 否         | 否       | 否       | 资源id               |
| userId  | uuid    | 是         | 否         | 否       | 否       | 用户id               |
| name    | string  | 否         | 否         | 否       | 否       | 资源名称，           |
| url     | string  | 否         | 否         | 否       | 否       | 资源路径             |
| type    | string  | 否         | 否         | 否       | 否       | 资源类型             |
| content | text    | 否         | 否         | 是       | 否       | 资源内容，限文本资源 |
| size    | string  | 否         | 否         | 否       | 否       | 资源大小             |
| isFav   | boolean | 否         | 否         | 否       | 否       | 是否收藏             |
|         |         |            |            |          |          |                      |

### articles

| 列名       | 类型     | 是否为主键 | 是否为外键 | 是否为空 | 是否自增 | 描述             |
| ---------- | -------- | ---------- | ---------- | -------- | -------- | ---------------- |
| id         | uuid     | 是         | 否         | 否       | 否       | 文章id           |
| categoryId | uuid     | 否         | 是         | 否       | 否       | 分类id           |
| userId     | uuid     | 否         | 是         | 否       | 否       | 文章所属的用户id |
| title      | string   | 否         | 否         | 否       | 否       | 文章标题         |
| content    | text     | 否         | 否         | 否       | 否       | 文章内容         |
| createdAt  | datetime | 否         | 否         | 是       | 否       | 创建时间         |
| updatedAt  | datetime | 否         | 否         | 是       | 否       | 最后更新时间     |



### categories

| 列名 | 类型   | 是否为主键 | 是否为外键 | 是否为空 | 是否自增 | 描述   |
| ---- | ------ | ---------- | ---------- | -------- | -------- | ------ |
| id   | uuid   | 是         | 否         | 否       | 否       | 分类id |
| name | string | 否         | 否         | 否       | 否       | 分类名 |



### tags

| 列名 | 类型   | 是否为主键 | 是否为外键 | 是否为空 | 是否自增 | 描述   |
| ---- | ------ | ---------- | ---------- | -------- | -------- | ------ |
| id   | uuid   | 是         | 否         | 否       | 否       | 标签id |
| name | string | 否         | 否         | 否       | 否       | 标签名 |

## 关联分析

### 用户:资源

```md
用户:资源
1:N
```

### 用户:文章

```md
用户:文章
1:N
```

### 用户:分类

```md
用户:分类
1:N
```

## 用户:标签

```md
用户:标签
1:N
```

### 文章:分类

```md
文章:分类
1:1
```

### 文章:标签

```md
文章:标签
M:N
```

## 技术栈

前端：HTML，CSS，JS，Vue3， Vue-Router，Vite，Piana，NaiveUI

后端：Node.js，Express，Sequelize，sequelize-cli，MySQL

前后端通信：Axios

## 模块设计



## 参考

- node最佳实践6-sequelize 多对多关联：https://juejin.cn/post/7207685141325398074

- [defaultValue: Sequelize.UUIDV4 is not setting a default value on column in postgres · Issue #13224 · sequelize/sequelize (github.com)](https://github.com/sequelize/sequelize/issues/13224)

- [(109条消息) 使用sequelize的时候如何在数据库的表中添加字段_sequilize表加字段_肖战的小可爱呀～的博客-CSDN博客](https://blog.csdn.net/xzdnana/article/details/107494757)

- https://blog.csdn.net/Brave_Coder/article/details/79734451

- [VUE+NodeJS 实现大文件上传 - 掘金 (juejin.cn)](https://juejin.cn/post/7098749140548452365#heading-8)