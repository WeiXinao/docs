# 内存管理（C 语言）

内存分区：代码区，数据区，堆区，栈区。

局部变量：

-   在函数内部定义的变量，使用aoto修饰。
-   在函数外定义，可被本文件及其他文件中的函数所共用，若其他文件中的函数调用此变量，需用extern声明。
-   全局变量的生命周期和程序运行周期一样。
-   不同文件的全局变量不可重名，可以和局部变量重名，就近原则。

全局变量：在函数外部定义的变量。&#x20;

作用域：从变量定义到函数结束。

生命周期：在函数外部定义的变量。

1.  **c语言中的空间管理是什么机制？**
	1. 宏是一个标记，不是一个变量，硬替换。
	2.  地址是永恒的，主函数存在，地址所指的空间在被调函数中存在。

**变量**

| 变量类型   | 作用域      | 生命周期         | 存储位置 |
| ------ | -------- | ------------ | ---- |
| 局部变量   | 函数内部     | 从局部变量创建到函数结束 | 栈区   |
| 全局变量   | 项目中所有文件  | 从程序创建到程序销毁   | 数据区  |
| 静态局部变量 | 函数内部     | 从程序创建到程序销毁   | 数据区  |
| 静态全局变量 |定义所在的文件中|从程序创建到程序销毁|数据区|

2. **全局函数和静态函数**

在C语言中函数默认都是全局的，意味着使用static可以将函数声明为静态·

**函数**

| 函数类型 |     作用域     |       生命周期       | 存储位置 |
| :------: | :------------: | :------------------: | :------: |
| 全局函数 | 项目中所有文件 | 从程序创建到程序销毁 |  代码区  |
| 静态函数 | 定义所在文件中 | 从程序创建到程序销毁 |  代码区  |

**注意：**

-   允许在不同函数中使用相同的变量名，它们代表不同对象，分配不同的单元，互不干扰。
-   同一源文件中，允许全局变量和局部变同名，在局部变量的作用域内，全局变量不起作用。
-   所有的的函数都是默认全局的，意味着所有的函数都不能重名，但如果是static函数，那么作用域是文件级的所以不同文件 static 函数名是可以相同的。

内存中高的区域留给注册表

