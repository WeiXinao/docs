# 第一章 计算机系统概述

## 1.1 操作系统的基本概念

### 1.1.1 操作系统的概念

### 1.1.3 操作系统的目标和功能

#### 1.1.3.1 操作系统作为计算机资源的管理者

#### 1.1.3.2 操作系统作为用户与计算机硬件系统之间的接口

1. 命令接口

![image-20220827001415447](assets/image-20220827001415447.png)

![image-20220827001548398](assets/image-20220827001548398.png)

![image-20220827001846380](assets/image-20220827001846380.png)

2. 程序接口

![image-20220827002509087](assets/image-20220827002509087.png)

用户通过==GUI和命令接口==来和操作系统进行交互，而应用程序通过==系统调用==来和操作系统进行交互。

![image-20220827002815711](assets/image-20220827002815711.png)

有的教材中，会把命令接口和程序接口，统称为用户接口，也就是说狭义的用户接口，不包含GUI。

#### 1.1.3.3 操作系统用作扩充机器

![image-20220827003227869](assets/image-20220827003227869.png)

![image-20220827003251014](assets/image-20220827003251014.png)

### 1.1.2 操作系统的特征

![image-20220827003648534](assets/image-20220827003648534.png)

![image-20220827003839065](assets/image-20220827003839065.png)

![image-20220827004041810](assets/image-20220827004041810.png)

![image-20220827004211156](assets/image-20220827004211156.png)

![image-20220827105314980](assets/image-20220827105314980.png)

有时候，同时共享确实是微观上在同时共享这个资源，比如说在玩游戏的时候，一边听歌，扬声器这个声音输出设备一边在播放游戏的声效，同时还在播放音乐，所以在这种情况下，扬声器这个声音输出设备，==在微观上==，是在被音乐播放器和游戏同时使用。

![image-20220827105818732](assets/image-20220827105818732.png)

失去了并发性，共享性就失去了存在的意义；失去了共享性，并发性就不可能被实现。并发性和共享互为存在条件。

![image-20220827110003835](assets/image-20220827110003835.png)

![image-20220827110104957](assets/image-20220827110104957.png)

![image-20220827110221465](assets/image-20220827110221465.png)

![image-20220827115338846](assets/image-20220827115338846.png)

![image-20220827115516104](assets/image-20220827115516104.png)

![image-20220827115549090](assets/image-20220827115549090.png)

## 1.2 操作系统的发展与分类

### 1.2.1 手工操作阶段

![image-20220827123916999](assets/image-20220827123916999.png)

### 1.2.2 批处理阶段——单道批处理系统 

![image-20220827124048507](assets/image-20220827124048507.png)

![image-20220827124221210](assets/image-20220827124221210.png)

### 1.2.3 批处理阶段——多道批处理系统

![image-20220827124547416](assets/image-20220827124547416.png)

### 1.2.4 分时操作系统

![image-20220827124840398](assets/image-20220827124840398.png)

### 1.2.5 实时操作系统

![image-20220827125102799](assets/image-20220827125102799.png)

### 1.2.6 其他几种操作系统

![image-20220827125215044](assets/image-20220827125215044.png)

![操作系统的发展与分类-导出](assets/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%8F%91%E5%B1%95%E4%B8%8E%E5%88%86%E7%B1%BB-%E5%AF%BC%E5%87%BA.png)

## 1.3 操作系统的运行环境

### 1.3.1 操作系统的运行机制

![image-20220827142811168](assets/image-20220827142811168.png)

![image-20220827143041481](assets/image-20220827143041481.png)

操作系统内核是系统资源的管理者。

![image-20220827143332008](assets/image-20220827143332008.png)

CPU能判断出指令类型，但是它怎么区分此时正在运行的是内核程序or应用程序？

答：CPU有两种状态，<font color="red">“内核态”</font>和<font color="red">“用户态”</font>。

处于<font color="red">内核态</font>时，说明此时正在<font color="red">运行的是内核程序</font>，此时<font color="red">可以执行特权指令</font>。

处于<font color="red">用户态</font>时，说明此时正在<font color="red">运行的是应用程序</font>，此时<font color="red">只能执行非特权指令</font>。

![image-20220827144204079](assets/image-20220827144204079.png)

![image-20220827144641531](assets/image-20220827144641531.png)

![image-20220827144714573](assets/image-20220827144714573.png)

![image-20220827144836623](assets/image-20220827144836623.png)

![操作系统的运行机制-导出](assets/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9A%84%E8%BF%90%E8%A1%8C%E6%9C%BA%E5%88%B6-%E5%AF%BC%E5%87%BA-16615841019051.png)

### 1.3.2 中断和异常的概念

![image-20220827151755635](assets/image-20220827151755635.png)

#### 1.3.2.1 内中断

![image-20220827151936629](assets/image-20220827151936629.png)

![image-20220827152124327](assets/image-20220827152124327.png)

#### 1.3.2.2 外中断

![image-20220827152409293](assets/image-20220827152409293.png)

![image-20220827152525593](assets/image-20220827152525593.png)

![image-20220827153055879](assets/image-20220827153055879.png)

![image-20220827153242080](assets/image-20220827153242080.png)

![中断与异常-导出](assets/%E4%B8%AD%E6%96%AD%E4%B8%8E%E5%BC%82%E5%B8%B8-%E5%AF%BC%E5%87%BA.png)

### 1.3.3 系统调用

![image-20220827154723134](assets/image-20220827154723134.png)

![image-20220827154833040](assets/image-20220827154833040.png)

![image-20220827155057651](assets/image-20220827155057651.png)

![image-20220827155333327](assets/image-20220827155333327.png)

![image-20220827155437432](assets/image-20220827155437432.png)

![image-20220827155531055](assets/image-20220827155531055.png)

![image-20220827155827366](assets/image-20220827155827366.png)

![image-20220827155957498](assets/image-20220827155957498.png)

![image-20220827160159127](assets/image-20220827160159127.png)

![image-20220827160217361](assets/image-20220827160217361.png)

![image-20220827160409810](assets/image-20220827160409810.png)

## 1.4 操作系统的体系结构

![image-20220829140027255](assets/image-20220829140027255.png)

![image-20220829141811110](assets/image-20220829141811110.png)

![image-20220829141916921](assets/image-20220829141916921.png)

![image-20220829142426429](assets/image-20220829142426429.png)

考试的时候，不要使用“变态”这个词，这个词只是为了方便描述，使用的一种描述方式，考试时应该说成是“CPU状态的转换”。

![image-20220829142645170](assets/image-20220829142645170.png)

![操作系统的体系结构](assets/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9A%84%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84.png)

### 1.4.1 分层结构

![image-20220829143605952](assets/image-20220829143605952.png)

![image-20220829143734021](assets/image-20220829143734021.png)

每层只能调用==相邻的低一层==的接口。

自底向上调试。

### 1.4.2 模块化

![模块化](assets/%E6%A8%A1%E5%9D%97%E5%8C%96.png)

 ### 1.4.3 微内核与大内核

![image-20220829145554853](assets/image-20220829145554853.png)

### 1.4.4 外核

![image-20220829150001364](assets/image-20220829150001364.png)

![image-20220829150204452](assets/image-20220829150204452.png)

## 1.5 操作系统的引导

![image-20220829150842680](assets/image-20220829150842680.png)

![image-20220829150929686](assets/image-20220829150929686.png)

![image-20220829151209896](assets/image-20220829151209896.png)

![image-20220829151230031](assets/image-20220829151230031.png)

![image-20220829151358722](assets/image-20220829151358722.png)

![image-20220829151751910](assets/image-20220829151751910.png)

![image-20220829152003113](assets/image-20220829152003113.png)

![image-20220829152210626](assets/image-20220829152210626.png)

下图为启动管理器：

![image-20220829152536092](assets/image-20220829152536092.png)

## 1.6 虚拟机

![image-20220829153401794](assets/image-20220829153401794.png)

![image-20220829153722969](assets/image-20220829153722969.png)

![image-20220829154137908](assets/image-20220829154137908.png)

![image-20220829154937668](assets/image-20220829154937668.png)

![image-20220829155234690](assets/image-20220829155234690.png)

